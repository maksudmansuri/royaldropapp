{% extends './in_base.html' %}
{% load static %}

{% block title %}
    <title>Instructor - Edit product</title>
{% endblock title %}

{% block body %}
        <!-- Header Layout Content -->
        <div class="mdk-header-layout__content">

            <div data-push data-responsive-width="992px" class="mdk-drawer-layout js-mdk-drawer-layout">
                <div class="mdk-drawer-layout__content page ">

                    <div class="container-fluid page__container">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="/instructor_lms">Home</a></li>
                            <li class="breadcrumb-item"><a href="/instructor_lms/instructor_products">Products</a></li>
                            <li class="breadcrumb-item active">Edit product</li>
                        </ol>
                        <div class="media align-items-center mb-headings">
                            <div class="media-body">
                                <h1 class="h2">Edit Product</h1>
                            </div>
                        </div>
                        <form method="post" action="/instructor_lms/instructor_product_edit/{{crs.product_slug}}" class="form-horizontal" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title">Edit {{crs.product_name}}</h4>
                                    </div>
                                    <div class="card-body">
                                    <div class="form-group row">
                                            {% if messages %}
                                            {% for message in messages %}
                                            {% if message.tags == 'error' %}
                                            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                                                <strong>{{message}}</strong> 
                                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                     </button>
                                            </div>
                                            {% endif %}
                                            {% if message.tags == 'success' %}
                                            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                                                <strong>{{message}}</strong> 
                                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                     </button>
                                            </div>
                                            {% endif %}
                                            {% endfor %}
                                            {% endif %}
                                        </div>
                                        <div class="form-group">
                                           <label class="form-label" for="Product_Image">Product Display Image</label>
                                                 <div class="media align-items-center">
                                                 <div class="media-body">
                                                        <div class="custom-file" style="width: auto;">
                                                            <input  id="product_image" name="product_image" type="file" class="custom-file-input">
                                                            <label for="Product_Image" class="custom-file-label">Choose file</label>
                                                        </div>
                                                        <div class="media align-items-center">
                                                            <div class="media-left">
                                                                <div>
                                                                {{crs.product_image.name|slice:"13:20"}}
                                                                </div>
                                                            </div>
                                                         </div>
                                                 </div>
                                                 </div>                                           
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label" for="category">Sub Category</label>
                                            <select id="subcategory"  name="subcategory" class="custom-select form-control">
                                                {% for i in allsubcat %}
                                                {% if crs.product_subcategory == i %}
                                                    <option selected>{{i.subcategory}}</option>
                                                {% endif %}
                                                <option >{{i.subcategory}}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="title">Product Title</label>
                                            <input type="text" id="title"  name="product_name" class="form-control" placeholder="Write a Product Name" value="{{crs.product_name}}" >
                                            
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="title">Product Fee</label>
                                            <input type="text" id="title" name="product_fee" class="form-control" placeholder="Fees" value="{{crs.product_fee}}">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="duration">Duration</label>
                                            <input type="text" id="product_duration"  name="product_duration" class="form-control" placeholder="Total Hours" value="{{crs.product_duration}}" >
                                        </div>
                                    </div>
                                </div>
                                </div>
                            {% comment %} <div class="col-md-4">
                                <div class="card">
                                    <div class="embed-responsive embed-responsive-16by9">
                                        <iframe class="embed-responsive-item" src="{{crs.product_video}}" allowfullscreen=""></iframe>
                                    </div>
                                    <div class="card-body">
                                        <input type="text" class="form-control" value="{{crs.product_video}}" />
                                    </div>
                                </div>
                                {% comment %} <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title">Others</h5>
                                    </div>
                                        <div class="form-group">
                                            <label class="form-label" for="category">Category</label>
                                            <select id="product_category" name="product_category" class="custom-select form-control">
                                                {% for i in allcat %}
                                                <option value="{{crs.product_category}}">{{i.category}}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="duration">Duration</label>
                                            <input type="text" id="product_duration" class="form-control" placeholder="No. of Days" value="{{crs.product_duration}}">
                                        </div>
                                </div> 
                            </div> {% endcomment %}
                            <div class="col-md-12">
                                  <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title">Basic Information</h4>
                                    </div>
                                    <div class="card-body">
                                    {% load crispy_forms_tags %}
                                    <div class="form-group">
                                        <label class="form-label" for="product_video"></label>
                                        {{form.media}}
                                        {{ form |crispy }}

                                    </div>
                                    
                                    <div class="form-group">
                                            <label class="form-label" for="product_video">Introducation Video</label>
                                            <input type="text" id="product_video"  name="product_video" class="form-control" placeholder="add video link" value="{{crs.product_video}}">
                                    </div>
                                    <div class="form-group">
                                            <label class="form-label" for="product_level">Product Level</label>
                                            <select id="product_level"  name="product_level" class="custom-select form-control">
                                                <option {% if crs.product_level == 'Beginner' %} selected{% endif %}>Beginners</option>
                                                <option {% if crs.product_level == 'Intermidiator' %} selected {%endif%}>Intermidiator</option>
                                                <option {% if crs.product_level == 'Expert' %} selected{%endif%}>Expert</option>
                                                
                                            </select>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">Save product</button>
                        </form>
                    </div>

                    <div class="modal fade" id="editLesson">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                // Edit Lesson
                            </div>
                        </div>
                    </div>

                </div>



{% endblock body %}