{% extends 'base2.html' %}
{% load static %}
{% block title %}
    <title>RoyalDrop Shipping | E-commerce | All Product online</title>
{% endblock title %}
 
{% block custom_css %}
    <style>
    input[type=number] {
        height: 45px;
        width: 65px;
        font-size: 25px;
        text-align: center;
        border: 1px solid #000000;
    }
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
  </style>
  <script>
    function getCodeBoxElement(index) {
      return document.getElementById('codeBox' + index);
    }
    function onKeyUpEvent(index, event) {
      const eventCode = event.which || event.keyCode;
      if (getCodeBoxElement(index).value.length === 1) {
        if (index !== 4) {
          getCodeBoxElement(index+ 1).focus();
        } else {
          getCodeBoxElement(index).blur();
          // Submit code
          console.log('submit code ');
        }
      }
      if (eventCode === 8 && index !== 1) {
        getCodeBoxElement(index - 1).focus();
      }
    }
    function onFocusEvent(index) {
      for (item = 1; item < index; item++) {
        const currentElement = getCodeBoxElement(item);
        if (!currentElement.value) {
            currentElement.focus();
            break;
        }
      }
    }
  </script>
{% endblock custom_css %}
{% comment %} {% block loader %}
<div class="preloader is-active">
        <div class="preloader__wrap">

            <img class="preloader__img" src="{% static '/ecafront/images/preloader.png' %}" alt=""></div>
    </div>
{% endblock loader %} {% endcomment %}

{% block fixed_list %}
 
{% endblock fixed_list %}

{% block content %}
 <!--====== App Content ======-->
 <div class="app-content">

    <!--====== Section 1 ======-->
    <div class="u-s-p-y-60">

        <!--====== Section Content ======-->
        <div class="section__content">
            <div class="container">
                <div class="breadcrumb">
                    <div class="breadcrumb__wrap">
                        <ul class="breadcrumb__list">
                            <li class="has-separator">

                                <a href="{% url 'home' %}">Home</a></li>
                            <li class="is-marked">

                                <a href="{% url 'dologin' %}">Signin</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--====== End - Section 1 ======-->
     {% if messages %}
    <div class="u-s-m-b-30" >
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section__text-wrap">
                       
                            {% for message in messages %}
                                {% if message.tags == 'error' %}
                                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                                    <strong>{{message}}</strong> 
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div> 
                                {% endif %}
                                {% if message.tags == 'success' %}
                                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                                    <strong>{{message}}</strong> 
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!--====== Section 2 ======-->
    <div class="u-s-p-b-60">

        <!--====== Section Intro ======-->
        <div class="section__intro u-s-m-b-60">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section__text-wrap">
                            <h1 class="section__heading u-c-secondary">MOBILE VERIFICATION</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--====== End - Section Intro ======-->


        <!--====== Section Content ======-->
        <div class="section__content">
            <div class="container">
                <div class="row row--center">
                    <div class="col-lg-6 col-md-8 u-s-m-b-30">
                        <div class="l-f-o">
                            <div class="l-f-o__pad-box">
                                <div class="login-right">
                                    <div class="login-right-wrap">
                                        <div class="row">
                                        <div class="col-3">
                                        </div>
                                        <div class="col-6">
                                            <h1>Mobile</h1>
                                            <p class="account-subtitle">Access to our dashboard</p>
                                        </div>
                                        </div>
                                    </br>
                                        <form method="post" class="row g-1 p-3 p-md-4" action="{% url 'OTP_Gen' user.phone %}" method="post">
                            {% csrf_token %}
                                <div class="col">
                                    <div class="mb-2">
                                        <input class="form-control form-control-lg text-center"  id="codeBox1" type="number" maxlength="1" onkeyup="onKeyUpEvent(1, event)" onfocus="onFocusEvent(1)" name="first" required>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="mb-2">
                                        <input class="form-control form-control-lg text-center" id="codeBox2" type="number" maxlength="1" onkeyup="onKeyUpEvent(2, event)" onfocus="onFocusEvent(2)" name="second" required>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="mb-2">
                                        <input class="form-control form-control-lg text-center" id="codeBox3" type="number" maxlength="1" onkeyup="onKeyUpEvent(3, event)" onfocus="onFocusEvent(3)" name="third" required>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="mb-2">
                                        <input class="form-control form-control-lg text-center" id="codeBox4" type="number" maxlength="1" onkeyup="onKeyUpEvent(4, event)" onfocus="onFocusEvent(4)" name="forth" required>
                                    </div>
                                </div>
                            </br>
                            </br>
                            </br>
                            <div class="col-4">
                            </div>
                                <div class="col-8 text-center mt-4">
                                    <button title="submit"class="btn btn-primary w-100 text-uppercase">Verify {{user.otp}}</button>
                                </div></br></br></br></br>
                                <div class="col-12 text-center mt-4">
                                    <span >Haven't received it? <a href="{% url 'resendOTP' user.phone %}">Resend a new code.</a></span>
                                </div>
                                        </form>
                
                                        
                
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--====== End - Section Content ======-->
    </div>
    <!--====== End - Section 2 ======-->
</div>
<!--====== End - App Content ======-->



{% endblock content %}


{% block custom_js %}
   

{% endblock custom_js %}
